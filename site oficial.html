<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CENTRAL TECH</title>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    /* ---------- RESET & VARS ---------- */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;scroll-behavior:smooth}
    :root{
      --font-sans: 'Poppins', system-ui, Arial, sans-serif;
      --font-display: 'Orbitron', sans-serif;
      --accent-red: #ff2c2c;
      --accent-blue: #2a74ff;
      --bg-light-start: linear-gradient(180deg,#d9dfe8,#c9d4e1,#b7c6d6);
      --bg-dark: #050404;
      --hero-size: 84px; /* unified hero size */
    }

    body{
      font-family:var(--font-sans);
      color:#111;
      overflow-x:hidden;
      background:var(--bg-light-start);
      transition:background .45s ease, color .45s ease;
    }

    /* When dark-mode class present on body -> dark theme */
    body.dark-mode{
      background:var(--bg-dark);
      color:#fff;
    }

    /* ---------- PARTICLE / BACKGROUNDS ---------- */
    /* Light-mode layers (blue smoke + stars + bubbles) */
    .bg-light-layer{
      position:fixed;inset:0;z-index:-3;pointer-events:none;overflow:hidden;
      display:block;
    }
    .light-smoke{
      position:absolute; width:200%;height:200%; top:-50%; left:-50%;
      background:
        radial-gradient(circle at 20% 40%, rgba(100,150,255,0.15) 0%, transparent 70%),
        radial-gradient(circle at 80% 60%, rgba(100,150,255,0.12) 0%, transparent 70%),
        radial-gradient(circle at 50% 90%, rgba(180,220,255,0.08) 0%, transparent 70%);
      filter:blur(60px);
      animation:smokeMove 40s linear infinite alternate;
    }
    @keyframes smokeMove{from{transform:translateX(-5%) scale(1)}to{transform:translateX(5%) scale(1.05)}}

    .light-stars{position:absolute;inset:0;z-index:-2}
    .light-star{position:absolute;border-radius:50%;opacity:0.8;filter:blur(.5px);box-shadow:0 0 15px rgba(60,150,255,0.8);}

    /* NEW: elegant blue bubbles for light mode */
    .light-bubbles{position:absolute;inset:0;z-index:-1;pointer-events:none;overflow:hidden}
    .bubble{
      position:absolute;
      border-radius:50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.95), rgba(120,190,255,0.35) 40%, rgba(60,140,255,0.12) 70%, rgba(30,90,200,0.06) 100%);
      box-shadow:0 6px 24px rgba(60,150,255,0.14), inset 0 1px 6px rgba(255,255,255,0.06);
      opacity:0.9;
      filter:blur(0.6px);
      transform: translate3d(0,0,0);
      animation-name:floatBubble, swayBubble, fadeBubble;
      animation-iteration-count:infinite;
      animation-timing-function:linear;
      will-change:transform, opacity;
      mix-blend-mode:screen;
    }

    @keyframes floatBubble{
      from{ transform: translateY(0) translateX(0) scale(1); }
      to{ transform: translateY(-120vh) translateX(30px) scale(1.1); }
    }
    @keyframes swayBubble{
      0%{ transform: translateX(0) }
      50%{ transform: translateX(40px) }
      100%{ transform: translateX(0) }
    }
    @keyframes fadeBubble{
      0%{ opacity:0.95 }
      80%{ opacity:0.6 }
      100%{ opacity:0.0 }
    }

    /* Dark-mode particles (canvas from site oficial) */
    .bg-dark-canvas{position:fixed;inset:0;z-index:-3;display:none;pointer-events:none}
    body.dark-mode .bg-dark-canvas{display:block}
    body.dark-mode .bg-light-layer{display:none}

    /* ---------- TOP NAV ---------- */
    .topnav{
      position:fixed;top:18px;left:50%;transform:translateX(-50%);
      z-index:999;display:flex;align-items:center;gap:18px;
      padding:10px 22px;border-radius:36px;
      backdrop-filter:blur(10px);
      transition:background .3s,box-shadow .3s;
      border:1px solid rgba(0,0,0,0.06);
    }
    /* light nav style */
    body:not(.dark-mode) .topnav{
      background:rgba(255,255,255,0.18);
      box-shadow:0 8px 30px rgba(80,140,255,0.06);
    }
    /* dark nav style */
    body.dark-mode .topnav{
      background:rgba(12,10,10,0.28);
      box-shadow:0 10px 40px rgba(0,0,0,0.5);
      border:1px solid rgba(255,0,0,0.04);
    }

    .brand{font-family:var(--font-display);font-weight:700;letter-spacing:1px}
    body.dark-mode .brand{color:var(--accent-red)} /* red brand in dark */
    body:not(.dark-mode) .brand{color:var(--accent-blue)} /* blue brand in light */

    .topnav nav{display:flex;gap:14px;align-items:center}
    .topnav nav a{color:inherit;text-decoration:none;font-size:14px;opacity:.95;padding:6px 8px;border-radius:6px}
    .topnav nav a:hover{opacity:1}

    .cta{
      display:inline-flex;gap:8px;align-items:center;padding:8px 14px;border-radius:20px;
      text-decoration:none;font-weight:600;cursor:pointer;border:none;
    }
    /* CTA color for each theme */
    body:not(.dark-mode) .cta{
      background: linear-gradient(90deg,var(--accent-blue),#5fa6ff); color:white; box-shadow:0 10px 30px rgba(80,150,255,0.08);
    }
    body.dark-mode .cta{
      background: linear-gradient(180deg,#ff4b4b,#ff2c2c); color:white; box-shadow:0 10px 30px rgba(255,44,44,0.12);
    }

    .theme-toggle{
      background:rgba(255,255,255,0.08);border:none;border-radius:50%;width:38px;height:38px;
      display:inline-flex;align-items:center;justify-content:center;color:inherit;cursor:pointer;font-size:16px;
    }

    /* ---------- HERO ---------- */
    .hero{
      position:relative;height:100vh;min-height:680px;display:flex;align-items:center;justify-content:center;text-align:center;
      z-index:2;padding:20px;
    }
    .hero::after{
      content:"";position:absolute;left:50%;top:36%;width:820px;height:420px;transform:translateX(-50%);filter:blur(46px);z-index:1;pointer-events:none;
    }
    /* hero glow background color differs by theme */
    body:not(.dark-mode) .hero::after{
      background:radial-gradient(circle at 50% 30%, rgba(40,120,255,0.20), rgba(0,0,0,0) 60%);
    }
    body.dark-mode .hero::after{
      background:radial-gradient(circle at 50% 30%, rgba(255,40,40,0.25), rgba(0,0,0,0) 60%);
    }

    .hero-content{position:relative;z-index:4;max-width:1200px;padding:20px}
    .hero-title{
      font-family:var(--font-display);font-weight:900;font-size:var(--hero-size);letter-spacing:6px;text-transform:uppercase;line-height:0.95;
      margin:0 0 12px 0;
    }
    /* unified color/shadow depending on theme */
    body:not(.dark-mode) .hero-title{
      color:var(--accent-blue);
      text-shadow:0 0 35px rgba(100,170,255,0.95), 0 0 80px rgba(80,140,255,0.2);
    }
    body.dark-mode .hero-title{
      color:#fff;
      text-shadow:0 0 36px rgba(255,40,40,0.95), 0 0 90px rgba(255,20,20,0.25);
    }

    .hero-sub{margin-top:8px;font-size:15px;letter-spacing:2px}
    body:not(.dark-mode) .hero-sub{color:rgba(10,10,10,0.7)}
    body.dark-mode .hero-sub{color:#d1d1d1}

    .btn-primary{
      margin-top:18px;padding:12px 22px;border-radius:26px;border:none;font-weight:700;cursor:pointer;
    }
    body:not(.dark-mode) .btn-primary{background:linear-gradient(90deg,var(--accent-blue),#5fa6ff);color:#fff;box-shadow:0 10px 30px rgba(80,150,255,0.12)}
    body.dark-mode .btn-primary{background:linear-gradient(180deg,#ff4b4b,#ff2c2c);color:#fff;box-shadow:0 10px 30px rgba(255,44,44,0.12)}
    .btn-primary:hover{transform:translateY(-2px);transition:transform .15s}

    /* ---------- SECTIONS ---------- */
    .section{padding:80px 20px;background:transparent}
    .container{max-width:1160px;margin:0 auto}
    .section-title{font-size:28px;margin-bottom:8px}
    .section-description{color:rgba(150,150,150,0.9);margin-bottom:18px}

    /* Services grid */
    .services-grid{display:grid;grid-template-columns:1fr 520px;gap:36px;align-items:center}
    @media(max-width:1100px){ .services-grid{grid-template-columns:1fr} }
    @media(max-width:900px){ .topnav nav{display:none} }
    @media(max-width:520px){ :root{--hero-size:48px} }

    /* Contact form (kept from site oficial) */
    .contact-grid{display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-start;gap:40px;max-width:1000px;margin:0 auto}
    .contact-form{background:rgba(255,255,255,0.03);padding:30px;border-radius:12px;box-shadow:0 0 30px rgba(0,0,0,0.06);flex:1;min-width:320px}
    body.dark-mode .contact-form{background:#0a0a0a;box-shadow:0 0 30px rgba(255,0,0,0.04)}
    .contact-form input,.contact-form select,.contact-form textarea{
      width:100%;padding:12px;border-radius:6px;border:1px solid #222;background:rgba(255,255,255,0.03);color:inherit;font-size:14px;margin-bottom:12px
    }
    .contact-form input:focus,.contact-form select:focus,.contact-form textarea:focus{outline:none;border-color:var(--accent-red)}

    .contact-info{background:rgba(255,255,255,0.03);padding:30px 40px;border-radius:12px;box-shadow:0 0 30px rgba(0,0,0,0.06);width:320px;text-align:left}
    body.dark-mode .contact-info{background:#0a0a0a;box-shadow:0 0 30px rgba(255,0,0,0.04)}
    .info-item{display:flex;align-items:flex-start;margin-bottom:22px}
    .info-item i{color:#fff;background:var(--accent-red);width:34px;height:34px;border-radius:50%;display:flex;justify-content:center;align-items:center;margin-right:12px}

    /* WhatsApp floating */
    .whatsapp-float{position:fixed;right:22px;bottom:22px;background:#25d366;color:#fff;border-radius:50%;width:58px;height:58px;display:flex;align-items:center;justify-content:center;font-size:26px;box-shadow:0 8px 24px rgba(0,0,0,0.35);z-index:999}

    /* small helpers */
    .muted{opacity:.8;color:rgba(150,150,150,0.9)}
  </style>
</head>
<body>
  <!-- ---------- BACKGROUNDS ---------- -->
  <!-- Light-mode blue smoke + stars + bubbles (from Untitled-1.html plus added bubbles) -->
  <div class="bg-light-layer" aria-hidden="true">
    <div class="light-smoke"></div>
    <div class="light-stars" id="light-stars"></div>
    <div class="light-bubbles" id="light-bubbles"></div>
  </div>

  <!-- Dark-mode particle canvas (from site oficial.html) -->
  <div class="bg-dark-canvas" id="dark-canvas-wrap">
    <canvas id="particles-canvas"></canvas>
  </div>

  <!-- ---------- TOP NAV ---------- -->
  <div class="topnav" role="navigation" aria-label="Menu principal">
    <div class="brand">CENTRAL TECH</div>

    <nav aria-label="Links">
      <a href="#services">Por que Central Tech?</a>
      <a href="#support">Suporte</a>
      <a href="#contact">Contato</a>
    </nav>

    <button id="theme-toggle" class="theme-toggle" title="Alternar tema" aria-pressed="false">
      <i class="fas fa-moon"></i>
    </button>

    <a class="cta" href="https://wa.me/5511912112462?text=Olá!%20Quero%20um%20orçamento%20da%20Central%20Tech." target="_blank" rel="noopener">
      <i class="fab fa-whatsapp"></i> Solicitar Orçamento
    </a>
  </div>

  <!-- ---------- HERO ---------- -->
  <header class="hero" id="home">
    <div class="hero-content container">
      <h1 class="hero-title">CENTRAL TECH</h1>
      <div class="hero-sub muted">ASSISTÊNCIA TÉCNICA QUE FUNCIONA</div>
      <div class="hero-cta"><button class="btn-primary" onclick="document.querySelector('#contact').scrollIntoView({behavior:'smooth'})">Solicitar Orçamento</button></div>
    </div>
  </header>

  <!-- ---------- MAIN SECTIONS (copied from site oficial.html, preserved) ---------- -->
  <main class="page" role="main">
    <!-- Services -->
    <section class="section" id="services">
      <div class="container">
        <div class="services-grid">
          <div class="services-content">
            <h2 class="services-title section-title">Rápido. Confiável. Eficiente.</h2>
            <p class="services-description section-description">Especialistas em manutenção de computadores, notebooks e dispositivos móveis</p>
            <button class="services-contact-btn btn-primary" onclick="document.querySelector('#contact').scrollIntoView({behavior:'smooth'})">Solicitar Orçamento</button>
            <div class="services-guarantee muted">Diagnóstico gratuito em até 24h</div>
          </div>

          <div class="services-visual">
            <div class="tech-mockup">
              <div class="tech-header" style="display:flex;align-items:center;gap:10px;margin-bottom:10px">
                <span class="tech-name" style="font-family:var(--font-display);font-weight:700;color:var(--accent-red)">CENTRAL TECH</span>
              </div>
              <div style="padding:18px;color:rgba(200,200,200,0.9)">
                <div style="margin-bottom:8px;font-weight:700">DIAGNÓSTICO EM ANDAMENTO</div>
                <div style="display:flex;align-items:center;gap:16px">
                  <div style="width:110px;height:110px;border-radius:50%;border:6px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;position:relative">
                    <div style="position:absolute;inset:6px;border-radius:50%;box-shadow:0 0 24px rgba(255,40,40,0.12);"></div>
                    <div style="font-weight:800">78%</div>
                  </div>
                  <div>Analisando Sistema — Tempo estimado: 15min</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Recovery -->
    <section class="section" id="recovery">
      <div class="container">
        <h2 class="section-title">Recuperação de Dados</h2>
        <p class="section-description">A Central Tech utiliza tecnologia avançada para recuperar dados perdidos, com métodos seguros e eficazes para HDDs, SSDs e dispositivos móveis.</p>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <div style="background:rgba(255,255,255,0.03);padding:14px;border-radius:10px;min-width:180px"><i class="fas fa-hdd"></i><div>Recuperação em HDDs e SSDs</div></div>
          <div style="background:rgba(255,255,255,0.03);padding:14px;border-radius:10px;min-width:180px"><i class="fas fa-mobile-alt"></i><div>Dados de smartphones e tablets</div></div>
          <div style="background:rgba(255,255,255,0.03);padding:14px;border-radius:10px;min-width:180px"><i class="fas fa-database"></i><div>Arquivos corporativos e pessoais</div></div>
          <div style="background:rgba(255,255,255,0.03);padding:14px;border-radius:10px;min-width:180px"><i class="fas fa-shield-alt"></i><div>Processo 100% seguro</div></div>
        </div>
      </div>
    </section>

    <!-- Expertise -->
    <section class="section" id="expertise">
      <div class="container">
        <h2 class="section-title">Expertise Completa</h2>
        <p class="section-description">Nossa equipe possui conhecimento especializado em diversas áreas da tecnologia, garantindo soluções eficazes para qualquer problema técnico.</p>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <div style="background:rgba(255,255,255,0.02);padding:14px;border-radius:10px"><i class="fas fa-microchip"></i> Hardware</div>
          <div style="background:rgba(255,255,255,0.02);padding:14px;border-radius:10px"><i class="fas fa-code"></i> Software</div>
          <div style="background:rgba(255,255,255,0.02);padding:14px;border-radius:10px"><i class="fas fa-network-wired"></i> Redes</div>
        </div>
      </div>
    </section>

    <!-- Coverage -->
    <section class="section" id="coverage">
      <div class="container">
        <h2 class="section-title">Atendimento Completo</h2>
        <p class="section-description">Oferecemos atendimento presencial e remoto para resolver seus problemas técnicos.</p>
        <div style="display:flex;gap:24px">
          <div style="background:rgba(255,255,255,0.02);padding:16px;border-radius:12px"><div style="font-size:20px;font-weight:800;color:var(--accent-red)">24h</div><div>atendimento emergencial</div></div>
          <div style="background:rgba(255,255,255,0.02);padding:16px;border-radius:12px"><div style="font-size:20px;font-weight:800;color:var(--accent-red)">98%</div><div>taxa de sucesso em reparos</div></div>
        </div>
      </div>
    </section>

    <!-- Final CTA -->
    <section class="section final-cta-section" id="final">
      <div class="container" style="text-align:center">
        <h2 class="section-title">Precisa de assistência técnica confiável e eficiente?</h2>
        <button class="final-contact-btn btn-primary" onclick="document.querySelector('#contact').scrollIntoView({behavior:'smooth'})">Solicitar Orçamento</button>
      </div>
    </section>

    <!-- Contact (kept the FormSubmit version and contact info) -->
    <section class="section" id="contact">
      <div class="container">
        <h2 class="section-title">Entre em Contato</h2>
        <p class="section-description">Fale conosco e receba um orçamento personalizado para sua necessidade.</p>

        <div class="contact-grid">
          <div class="contact-form">
            <form action="https://formsubmit.co/marcelo.santos25816@gmail.com" method="POST" autocomplete="on">
              <input type="text" name="name" placeholder="Seu nome" required>
              <input type="email" name="email" placeholder="seuemail@exemplo.com" required>
              <input type="tel" name="phone" placeholder="Seu telefone" required>
              <select name="service" required>
                <option value="">Selecione o serviço</option>
                <option>Manutenção de Computadores</option>
                <option>Formatação</option>
                <option>Instalação de Software</option>
                <option>Suporte Técnico</option>
                <option>Outros</option>
              </select>
              <textarea name="message" rows="4" placeholder="Descreva seu problema" required></textarea>

              <button type="submit" class="submit-btn btn-primary">Enviar Solicitação</button>

              <input type="hidden" name="_subject" value="Nova Solicitação - Central Tech">
              <input type="hidden" name="_captcha" value="false">
              <input type="hidden" name="_template" value="table">
            </form>
          </div>

          <div class="contact-info" aria-label="Informações de contato">
            <div class="info-item">
              <i class="fas fa-phone"></i>
              <div><h4>Telefone</h4><p>(11) 91211-2462</p></div>
            </div>

            <div class="info-item">
              <i class="fas fa-envelope"></i>
              <div><h4>E-mail</h4><p>marcelo.santos25816@gmail.com</p></div>
            </div>

            <div class="info-item">
              <i class="fas fa-clock"></i>
              <div><h4>Horário</h4><p>Seg-Sex: 8h às 18h<br>Sáb: 8h às 12h</p></div>
            </div>

            <a class="whatsapp-btn" href="https://wa.me/5511912112462" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;justify-content:center;background:#25D366;color:#fff;padding:12px 20px;border-radius:8px;margin-top:12px;text-decoration:none">
              <i class="fab fa-whatsapp"></i> Conversar no WhatsApp
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- WhatsApp floating -->
  <a class="whatsapp-float" href="https://wa.me/5511912112462?text=Olá!%20Quero%20um%20orçamento%20da%20Central%20Tech." target="_blank" rel="noopener" aria-label="Abrir WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- ---------- SCRIPTS: stars (light), bubbles (light), particle canvas (dark), theme toggle ---------- -->
  <script>
    /* ---------- LIGHT STARS (from Untitled-1) ---------- */
    (function createLightStars(){
      const container = document.getElementById('light-stars');
      if(!container) return;
      const num = 200; // moderate number of glowing stars
      for(let i=0;i<num;i++){
        const s = document.createElement('div');
        s.className = 'light-star';
        const size = 1.2 + Math.random()*4;
        s.style.width = s.style.height = size + 'px';
        const blueTones = [
          "rgba(40,130,255,0.9)",
          "rgba(70,160,255,0.85)",
          "rgba(100,190,255,0.8)",
          "rgba(140,210,255,0.7)"
        ];
        const color = blueTones[Math.floor(Math.random()*blueTones.length)];
        s.style.background = color;
        s.style.boxShadow = `0 0 ${6 + Math.random()*18}px ${color}`;
        s.style.left = (Math.random()*100) + 'vw';
        s.style.top = (Math.random()*100 - 100) + 'vh'; // start above
        s.style.opacity = (0.5 + Math.random()*0.5);
        s.style.animation = `moveStars ${8 + Math.random()*18}s linear infinite`;
        container.appendChild(s);
      }
    })();

    /* ---------- LIGHT BUBBLES (new elegant bubbles) ---------- */
    (function createBubbles(){
      const wrap = document.getElementById('light-bubbles');
      if(!wrap) return;
      const COUNT = 120; // plenty of bubbles but reasonable for performance
      const vw = () => Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      const vh = () => Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

      for(let i=0;i<COUNT;i++){
        const b = document.createElement('div');
        b.className = 'bubble';
        // size between 8px and 140px (varied)
        const size = Math.round(8 + Math.random()*132);
        b.style.width = b.style.height = size + 'px';
        // random horizontal start
        b.style.left = (Math.random()*100) + 'vw';
        // start position slightly below bottom so they float up
        b.style.top = (vh() + Math.random()*80) + 'px';
        // duration: larger bubbles move slower
        const duration = (18 + Math.random()*36) * (140/Math.max(size,40));
        b.style.animationDuration = `${duration}s, ${6 + Math.random()*6}s, ${duration*0.9}s`;
        // phase delay so they don't all start together
        b.style.animationDelay = `${-Math.random()*duration}s, ${-Math.random()*6}s, ${-Math.random()*duration}s`;
        // opacity and subtle scale
        b.style.opacity = (0.18 + Math.random()*0.6);
        // slight blur for bigger bubbles
        b.style.filter = `blur(${Math.min(6, size/30)}px)`;
        // subtle z variation
        b.style.zIndex = -1 - Math.floor(Math.random()*3);

        wrap.appendChild(b);
      }

      // Reposition bubbles on resize for responsiveness
      window.addEventListener('resize', ()=>{
        // small debounce
        clearTimeout(window.__bubble_resize);
        window.__bubble_resize = setTimeout(()=>{
          const bubbles = document.querySelectorAll('.light-bubbles .bubble');
          bubbles.forEach(b=>{
            b.style.left = (Math.random()*100) + 'vw';
            b.style.top = (vh() + Math.random()*80) + 'px';
          });
        },120);
      });
    })();

    /* ---------- DARK PARTICLES (canvas) - from site oficial implementation ---------- */
    (function(){
      const canvas = document.getElementById('particles-canvas');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      let w = canvas.width = window.innerWidth;
      let h = canvas.height = window.innerHeight;
      let particles = [];
      const PARTICLE_COUNT = Math.round((w*h)/80000);

      function rand(min,max){ return Math.random()*(max-min)+min; }
      function init(){
        particles = [];
        for(let i=0;i<PARTICLE_COUNT;i++){
          particles.push({
            x: Math.random()*w,
            y: Math.random()*h,
            r: rand(0.6,2.2),
            vx: rand(-0.15,0.15),
            vy: rand(-0.25,-0.02),
            alpha: rand(0.08,0.45),
            hueOffset: rand(-10,10)
          });
        }
      }
      init();

      function resize(){
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        init();
      }
      window.addEventListener('resize', resize);

      function draw(){
        ctx.clearRect(0,0,w,h);
        for(const p of particles){
          p.x += p.vx; p.y += p.vy;
          if(p.y < -20) p.y = h + 20;
          if(p.x < -40) p.x = w + 40;
          if(p.x > w + 40) p.x = -40;
          const grd = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.r*6);
          const red = 200 + (p.hueOffset>0? p.hueOffset : 0);
          grd.addColorStop(0, `rgba(${Math.min(255,red)},40,40,${p.alpha})`);
          grd.addColorStop(0.6, `rgba(120,20,20,${p.alpha*0.16})`);
          grd.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.fillStyle = grd;
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.r*3,0,Math.PI*2);
          ctx.fill();
        }
        requestAnimationFrame(draw);
      }
      draw();
    })();

    /* ---------- THEME TOGGLE (start LIGHT by default) ---------- */
    (function(){
      const btn = document.getElementById('theme-toggle');
      const icon = btn.querySelector('i');
      const body = document.body;
      // default: light theme
      const saved = localStorage.getItem('ct-theme');
      if(saved === 'dark'){ body.classList.add('dark-mode'); icon.className = 'fas fa-sun'; btn.setAttribute('aria-pressed','true'); }
      else { body.classList.remove('dark-mode'); icon.className = 'fas fa-moon'; btn.setAttribute('aria-pressed','false'); }

      btn.addEventListener('click', ()=>{
        body.classList.toggle('dark-mode');
        const isDark = body.classList.contains('dark-mode');
        icon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
        btn.setAttribute('aria-pressed', String(isDark));
        localStorage.setItem('ct-theme', isDark ? 'dark' : 'light');
      });
    })();

    /* ---------- Smooth anchors offset for fixed nav ---------- */
    document.querySelectorAll('.topnav a[href^="#"]').forEach(a=>{
      a.addEventListener('click', function(e){
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if(!target) return;
        const rect = target.getBoundingClientRect();
        const top = window.pageYOffset + rect.top - 90;
        window.scrollTo({top,behavior:'smooth'});
      });
    });

    /* ---------- Contact form feedback ---------- */
    (function(){
      const contactForm = document.querySelector('.contact-form form');
      if(contactForm){
        contactForm.addEventListener('submit', function(){
          setTimeout(()=>{ alert('Formulário enviado. Obrigado — responderemos em breve.'); }, 400);
        });
      }
    })();
  </script>
</body>
</html>
